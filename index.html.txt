<!DOCTYPE html>
<html>
<head>
<title>EMF Global Technology & Research</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

<style>
body {font-family: 'Poppins', sans-serif; margin:0; background:#f0f4f8;}
header {background:#002b5b; color:white; padding:20px; text-align:center;}
nav {background:#003f88; padding:10px; text-align:center;}
nav button {margin:5px; padding:10px; border:none; background:white; border-radius:5px;}
section {padding:30px; margin:20px; background:white; border-radius:10px; box-shadow:0 4px 8px rgba(0,0,0,0.1);}
input, textarea {width:100%; padding:10px; margin:8px 0; border-radius:5px; border:1px solid #ccc;}
button.submit {background:#002b5b; color:white; padding:10px 20px; border:none; border-radius:5px;}
footer {background:#002b5b; color:white; text-align:center; padding:15px;}
</style>
</head>

<body>

<header>
<h1>EMF Global Technology & Research</h1>
<p>Grameena Seva 360 â€“ Smart Rural Web Platform</p>
</header>

<section>
<h2>â‚¹100 Membership Registration</h2>
<input type="text" id="name" placeholder="Full Name">
<input type="text" id="village" placeholder="Village">
<input type="tel" id="mobile" placeholder="Mobile Number">
<button class="submit" onclick="registerMember()">Register</button>
</section>

<section>
<h2>Service Booking</h2>
<input type="text" id="sname" placeholder="Your Name">
<input type="text" id="service" placeholder="Service Required">
<textarea id="details" placeholder="Details"></textarea>
<button class="submit" onclick="bookService()">Book Service</button>
</section>

<section>
<h2>Admin Dashboard (Live Data)</h2>
<div id="membersList"></div>
<div id="serviceList"></div>
</section>

<footer>
Corporate Office: NAD Junction, Surya Complex, Visakhapatnam â€“ 530027<br>
Head Office: Ayyappa Nagar, IT Hills, Bengaluru<br>
Phone: 8125016226 | 7981967919<br>
Email: emfi.ceo@gmail.com
</footer>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js"></script>

<script type="module">

// ðŸ”¥ Replace with your Firebase config
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { getFirestore, collection, addDoc, getDocs } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_DOMAIN",
  projectId: "YOUR_PROJECT_ID",
  storageBucket: "YOUR_BUCKET",
  messagingSenderId: "YOUR_ID",
  appId: "YOUR_APP_ID"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

window.registerMember = async function() {
  const name = document.getElementById("name").value;
  const village = document.getElementById("village").value;
  const mobile = document.getElementById("mobile").value;

  await addDoc(collection(db, "members"), {
    name, village, mobile, date: new Date()
  });

  alert("Member Registered Successfully!");
  loadMembers();
};

window.bookService = async function() {
  const name = document.getElementById("sname").value;
  const service = document.getElementById("service").value;
  const details = document.getElementById("details").value;

  await addDoc(collection(db, "services"), {
    name, service, details, date: new Date()
  });

  alert("Service Booked Successfully!");
  loadServices();
};

async function loadMembers() {
  const querySnapshot = await getDocs(collection(db, "members"));
  let html = "<h3>Registered Members</h3>";
  querySnapshot.forEach(doc => {
    html += `<p>${doc.data().name} - ${doc.data().village}</p>`;
  });
  document.getElementById("membersList").innerHTML = html;
}

async function loadServices() {
  const querySnapshot = await getDocs(collection(db, "services"));
  let html = "<h3>Service Requests</h3>";
  querySnapshot.forEach(doc => {
    html += `<p>${doc.data().name} - ${doc.data().service}</p>`;
  });
  document.getElementById("serviceList").innerHTML = html;
}

loadMembers();
loadServices();

</script>

</body>
</html>
